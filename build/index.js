(()=>{"use strict";var e,t={42:()=>{const e=window.wp.blocks,t=window.React,n=window.wp.i18n,a=window.wp.element,l=window.wp.blockEditor,o=window.wp.components,r=e=>{const{current_page:a,total_pages:l,onChangePage:o,showPagination:r,max_num_pages:c}=e;return console.log(e),(0,t.createElement)("div",{className:"afs-footer-pagination"},r&&(0,t.createElement)("div",{className:"pagination"},a>1&&(0,t.createElement)("button",{className:"prev-btn",onClick:()=>o(a-1)},(0,n.__)("<< Previous","afs-form")),(()=>{const e=[];for(let n=1;n<=c;n++)e.push((0,t.createElement)("button",{key:n,onClick:()=>o(n),className:"page-numbers "+(a===n?" current ":"")},n));return e})(),a<l&&(0,t.createElement)("button",{className:"next-btn",onClick:()=>o(a+1)},(0,n.__)("Next >>","afs-form"))))},c=JSON.parse('{"u2":"create-block/fetch-json-data"}');(0,e.registerBlockType)(c.u2,{edit:function({attributes:e,setAttributes:c}){const[s,i]=(0,a.useState)([]),[m,g]=(0,a.useState)(!0),[u,h]=(0,a.useState)({data:[],current_page:1,per_page:4,total_items:10,total_pages:5}),p=Math.ceil(10/e.rowsPerPage),d=(_=u.total_items,E=e.showPagination,Math.ceil(_/E));var _,E;return console.log(`Total Pages: ${d}`),console.log(e),(0,a.useEffect)((()=>{fetch(`https://jsonplaceholder.typicode.com/users?_start=0&_limit=${e.rowsPerPage}`).then((e=>e.json())).then((e=>{i(e),g(!1)})).catch((e=>{console.error("Error fetching data:",e),g(!1)}))}),[e.rowsPerPage]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{...(0,l.useBlockProps)()},(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(o.PanelBody,{className:"fetch-json-data-wrapper",title:(0,n.__)("Fetch JSON Data","afs-form"),initialOpen:!0},(0,t.createElement)(o.PanelRow,null,(0,t.createElement)(o.RangeControl,{label:(0,n.__)("Rows Per Page","fetch-json-data"),value:e.rowsPerPage,min:"1",max:"10",onChange:e=>{c({rowsPerPage:e})}})),(0,t.createElement)(o.PanelRow,null,(0,t.createElement)(o.ToggleControl,{label:(0,n.__)("Toggle Pagination","fetch-json-data"),checked:e.showPagination,onChange:e=>{c({showPagination:e})}})))),(0,t.createElement)(l.BlockControls,null,(0,t.createElement)(l.AlignmentToolbar,{value:e.titleAlignment,onChange:e=>{c({titleAlignment:void 0===e?"none":e})}})),(0,t.createElement)(l.RichText,{tagName:"h2",className:"table-title",style:{textAlign:e.titleAlignment},value:e.title,onChange:e=>{c({title:e})}}),(0,t.createElement)(l.BlockControls,null,(0,t.createElement)(l.AlignmentToolbar,{value:e.contentAlignment,onChange:e=>{c({contentAlignment:void 0===e?"none":e})}})),(0,t.createElement)(l.RichText,{className:"table-content",tagName:"p",style:{textAlign:e.contentAlignment},value:e.content,onChange:e=>{c({content:e})}}),m&&(0,t.createElement)("p",null,"Loading..."),!m&&s&&s.length>0&&(0,t.createElement)("table",null,(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",null,(0,n.__)("ID","fetch-json-data")),(0,t.createElement)("th",null,(0,n.__)("Name","fetch-json-data")),(0,t.createElement)("th",null,(0,n.__)("Email","fetch-json-data")),(0,t.createElement)("th",null,(0,n.__)("Phone","fetch-json-data")),(0,t.createElement)("th",null,(0,n.__)("Website","fetch-json-data")))),(0,t.createElement)("tbody",null,s.map((e=>(0,t.createElement)("tr",{key:e.id},(0,t.createElement)("td",null,e.id),(0,t.createElement)("td",null,e.name),(0,t.createElement)("td",null,e.email),(0,t.createElement)("td",null,e.phone),(0,t.createElement)("td",null,e.website)))))),!m&&(!s||0===s.length)&&(0,t.createElement)("p",null,(0,n.__)("No report found","fetch-json-data")),(0,t.createElement)(r,{current_page:u.current_page,total_pages:u.total_pages,onChangePage:e=>{h((t=>({...t,current_page:e})))},showPagination:e.showPagination,max_num_pages:p})))},save:function(){return(0,t.createElement)("p",{...l.useBlockProps.save()},"Fetch Json Data â€“ hello from the saved content!")}})}},n={};function a(e){var l=n[e];if(void 0!==l)return l.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,n,l,o)=>{if(!n){var r=1/0;for(m=0;m<e.length;m++){for(var[n,l,o]=e[m],c=!0,s=0;s<n.length;s++)(!1&o||r>=o)&&Object.keys(a.O).every((e=>a.O[e](n[s])))?n.splice(s--,1):(c=!1,o<r&&(r=o));if(c){e.splice(m--,1);var i=l();void 0!==i&&(t=i)}}return t}o=o||0;for(var m=e.length;m>0&&e[m-1][2]>o;m--)e[m]=e[m-1];e[m]=[n,l,o]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var l,o,[r,c,s]=n,i=0;if(r.some((t=>0!==e[t]))){for(l in c)a.o(c,l)&&(a.m[l]=c[l]);if(s)var m=s(a)}for(t&&t(n);i<r.length;i++)o=r[i],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(m)},n=globalThis.webpackChunkfetch_json_data=globalThis.webpackChunkfetch_json_data||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=a.O(void 0,[431],(()=>a(42)));l=a.O(l)})();